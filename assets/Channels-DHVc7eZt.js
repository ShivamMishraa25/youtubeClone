import{b as N,r as n,u as v,a as b,j as e,L as g,c as f}from"./index-BaUkKamr.js";import{a as S}from"./index-Dq7h7Pqt.js";/* empty css                */function D(){const{id:c}=N(),[s,m]=n.useState(null),[x,t]=n.useState(!0),[d,r]=n.useState(null),[l,h]=n.useState(!1),{user:j,setUser:y}=v(),u=b();if(j?.channelId==c&&u("/channel"),n.useEffect(()=>{t(!0),r(null),S.get(`https://youtube-backend-cx37.onrender.com/api/channel/${c.replace(":","")}`).then(a=>{m(a.data)}).catch(()=>r("Failed to load channel")).finally(()=>t(!1))},[c]),x)return e.jsx("div",{style:{padding:32},children:"Loading..."});if(d)return e.jsx("div",{style:{padding:32,color:"red"},children:d});if(!s)return null;const o=180,i=s.description&&s.description.length>o,p=l||!i?s.description:s.description.slice(0,o);return e.jsxs("div",{className:"channel-page",style:{flex:1},children:[e.jsx("div",{className:"channel-banner-container",children:e.jsx("img",{className:"channel-banner",src:s.channelBanner||"https://placehold.co/600x150.png?text=Banner",alt:"Channel banner"})}),e.jsxs("div",{className:"channel-header",children:[e.jsx("img",{className:"channel-avatar",src:s.channelPic||"https://placehold.co/100x100.png?text=?",alt:s.channelName}),e.jsxs("div",{className:"channel-info",children:[e.jsx("div",{className:"channel-title",children:s.channelName}),e.jsxs("div",{className:"channel-meta",children:[e.jsxs("span",{className:"channel-handle",children:["@",s.channelName?.toLowerCase().replace(/\s/g,""),"-ic4ou"]}),e.jsx("span",{className:"channel-dot",children:"·"}),e.jsxs("span",{className:"channel-subs",children:[s.subscribers," subscribers"]}),e.jsx("span",{className:"channel-dot",children:"·"}),e.jsxs("span",{className:"channel-videos",children:[s.videos?.length||0," videos"]})]}),e.jsxs("div",{className:"channel-desc",children:[p,i&&!l&&e.jsx("span",{className:"desc-more",onClick:()=>h(!0),children:"...more"}),i&&l&&e.jsx("span",{className:"desc-less",onClick:()=>h(!1),children:" Show less"})]}),e.jsx("div",{className:"channel-actions",children:e.jsx("button",{className:"channel-btn subscribe",children:"Subscribe"})})]})]}),e.jsxs("div",{className:"channel-tabs",children:[e.jsx("div",{className:"channel-tab",children:"Home"}),e.jsx("div",{className:"channel-tab active",children:"Videos"})," ",e.jsx("div",{className:"channel-tab",children:"Shorts"}),e.jsx("div",{className:"channel-tab",children:"Playlists"}),e.jsx("div",{className:"channel-tab",children:"Posts"})]}),e.jsx("div",{className:"channel-videos-list",children:(s.videos||[]).map(a=>e.jsxs("div",{className:"channel-video-card",children:[e.jsx(g,{to:`/video/${a._id}`,children:e.jsx("img",{className:"channel-video-thumb",src:a.thumbnail,alt:a.title})}),e.jsxs("div",{className:"channel-video-info",children:[e.jsx("div",{className:"channel-video-title",children:a.title}),e.jsxs("div",{className:"channel-video-meta",children:[e.jsxs("span",{children:[a.views," views"]}),e.jsx("span",{className:"channel-dot",children:"·"}),e.jsx("span",{children:a.uploadDate?new Date(a.uploadDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""})]})]}),e.jsx("div",{className:"channel-video-actions",children:e.jsxs("span",{className:"channel-video-meatball",tabIndex:0,children:[e.jsx(f,{})," "]})})]},a._id))})]})}export{D as default};
