import{G as r,u as y,a as w,j as e,B as z,r as n,L as N,O as V}from"./index-BaUkKamr.js";import{M as H,a as B,b as U,c as p,d as R,e as F,f as O}from"./index-D0JyTGRv.js";import{a as A}from"./index-Dq7h7Pqt.js";/* empty css                 *//* empty css                      */import{I}from"./index-HByl8Czo.js";function C(a){return r({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(a)}function Z(a){return r({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(a)}function W(a){return r({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(a)}function E(a){return r({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm8 336c0 4.411-3.589 8-8 8H48c-4.411 0-8-3.589-8-8V112c0-4.411 3.589-8 8-8h480c4.411 0 8 3.589 8 8v288zM170 270v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm-336 82v-28c0-6.627-5.373-12-12-12H82c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm384 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zM122 188v-28c0-6.627-5.373-12-12-12H82c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm-98 158v-16c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v16c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"},child:[]}]})(a)}function T({onClose:a,setShowModal:o}){const{user:t,setUser:m}=y(),d=w(),i=()=>{d("/channel"),o(!1)},v=()=>{d("/createChannel"),o(!1)},h=()=>{localStorage.removeItem("user"),o(!1),m(null)};return e.jsx("div",{className:"user-modal-overlay",onClick:a,children:e.jsxs("div",{className:"user-modal",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"user-modal-header",children:[e.jsx("img",{src:t.avatar,alt:t.username,className:"user-modal-avatar"}),e.jsxs("div",{className:"user-modal-info",children:[e.jsx("div",{className:"user-modal-username",children:t.username}),e.jsxs("div",{className:"user-modal-userid",children:["@",t._id?.toLowerCase().replace(/\s/g,"")||"user"]}),t.channelId?e.jsx("span",{className:"user-modal-link",onClick:i,children:"View your channel"}):e.jsx("span",{className:"user-modal-link",onClick:v,children:"Create your channel"})]})]}),e.jsx("div",{className:"user-modal-divider"}),e.jsxs("div",{className:"user-modal-list",children:[e.jsxs("div",{className:"user-modal-listitem",children:[e.jsx(H,{className:"user-modal-icon"}),"Google Account"]}),e.jsxs("div",{className:"user-modal-listitem user-modal-listitem-arrow",children:[e.jsx(B,{className:"user-modal-icon"}),"Switch account",e.jsx(C,{className:"user-modal-arrow"})]}),e.jsxs("div",{className:"user-modal-listitem",onClick:h,children:[e.jsx(U,{className:"user-modal-icon"}),"Sign out"]})]}),e.jsx("div",{className:"user-modal-divider"}),e.jsxs("div",{className:"user-modal-list",children:[e.jsxs("div",{className:"user-modal-listitem",children:[e.jsx(p,{className:"user-modal-icon"}),"YouTube Studio"]}),e.jsxs("div",{className:"user-modal-listitem",children:[e.jsx(p,{className:"user-modal-icon"}),"Purchases and memberships"]})]}),e.jsx("div",{className:"user-modal-divider"}),e.jsxs("div",{className:"user-modal-list",children:[e.jsxs("div",{className:"user-modal-listitem",children:[e.jsx(p,{className:"user-modal-icon"}),"Your data in YouTube"]}),e.jsxs("div",{className:"user-modal-listitem user-modal-listitem-arrow",children:[e.jsx(z,{className:"user-modal-icon"}),"Appearance: Light",e.jsx(C,{className:"user-modal-arrow"})]}),e.jsxs("div",{className:"user-modal-listitem user-modal-listitem-arrow",children:[e.jsx(R,{className:"user-modal-icon"}),"Language: English",e.jsx(C,{className:"user-modal-arrow"})]}),e.jsxs("div",{className:"user-modal-listitem",children:[e.jsx(p,{className:"user-modal-icon"}),"Restricted Mode: Off"]}),e.jsxs("div",{className:"user-modal-listitem",children:[e.jsx(F,{className:"user-modal-icon"}),"Location: India"]}),e.jsxs("div",{className:"user-modal-listitem",children:[e.jsx(E,{className:"user-modal-icon"}),"Keyboard shortcuts"]})]})]})})}function Y(a){return r({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"},child:[]}]})(a)}function q(a){return r({attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:`M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31
		c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z
		 M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02
		z`},child:[]}]}]})(a)}function D(a){return r({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16 4C16.5523 4 17 4.44772 17 5V9.2L22.2133 5.55071C22.4395 5.39235 22.7513 5.44737 22.9096 5.6736C22.9684 5.75764 23 5.85774 23 5.96033V18.0397C23 18.3158 22.7761 18.5397 22.5 18.5397C22.3974 18.5397 22.2973 18.5081 22.2133 18.4493L17 14.8V19C17 19.5523 16.5523 20 16 20H2C1.44772 20 1 19.5523 1 19V5C1 4.44772 1.44772 4 2 4H16ZM15 6H3V18H15V6ZM9 8L13 12H10V16H8V12H5L9 8ZM21 8.84131L17 11.641V12.359L21 15.1587V8.84131Z"},child:[]}]})(a)}function G({sidebarOpen:a,setSidebarOpen:o,searchedVal:t,setSearchedVal:m,onSearch:d}){const{user:i,setUser:v}=y();w();const[h,c]=n.useState(!1),[g,x]=n.useState(!1),[s,u]=n.useState({title:"",videoLink:"",thumbnail:"",description:"",category:""}),[f,b]=n.useState(!1);function S(l){m(l.target.value)}function k(l){l.preventDefault(),d&&d()}const M=async l=>{l.preventDefault(),b(!0);const j={title:s.title.trim(),videoLink:s.videoLink.trim(),thumbnail:s.thumbnail.trim(),description:s.description.trim(),category:s.category.trim()};if(!j.title||!j.videoLink||!j.thumbnail){alert("Please fill in all required fields."),b(!1);return}try{await A.post("https://youtube-backend-cx37.onrender.com/api/video",j,{headers:{Authorization:`Bearer ${i.token}`}}),alert("Video uploaded!"),x(!1),u({title:"",videoLink:"",thumbnail:"",description:"",category:""})}catch(L){alert("Failed to upload video: "+(L.response?.data?.message||L.message))}finally{b(!1)}};return e.jsxs(e.Fragment,{children:[g&&e.jsx("div",{className:"create-channel-modal-bg",style:{zIndex:3e3},children:e.jsxs("div",{className:"create-channel-modal",style:{maxWidth:500},children:[e.jsx("h2",{className:"create-channel-title",children:"Upload Video"}),e.jsxs("form",{className:"create-channel-form",onSubmit:M,children:[e.jsxs("div",{className:"create-channel-fields",children:[e.jsx("label",{className:"create-channel-label",children:"Title"}),e.jsx("input",{className:"create-channel-input",name:"title",type:"text",placeholder:"Video title",value:s.title,onChange:l=>u({...s,title:l.target.value}),required:!0,autoFocus:!0}),e.jsx("label",{className:"create-channel-label",children:"Video Link (URL)"}),e.jsx("input",{className:"create-channel-input",name:"videoLink",type:"url",placeholder:"Video file URL",value:s.videoLink,onChange:l=>u({...s,videoLink:l.target.value}),required:!0}),e.jsx("label",{className:"create-channel-label",children:"Thumbnail URL"}),e.jsx("input",{className:"create-channel-input",name:"thumbnail",type:"url",placeholder:"Thumbnail image URL",value:s.thumbnail,onChange:l=>u({...s,thumbnail:l.target.value}),required:!0}),e.jsx("label",{className:"create-channel-label",children:"Description"}),e.jsx("textarea",{className:"create-channel-input",name:"description",placeholder:"Video description",value:s.description,onChange:l=>u({...s,description:l.target.value}),rows:2}),e.jsx("label",{className:"create-channel-label",children:"Category"}),e.jsx("input",{className:"create-channel-input",name:"category",type:"text",placeholder:"Category",value:s.category,onChange:l=>u({...s,category:l.target.value})})]}),e.jsxs("div",{className:"create-channel-actions",children:[e.jsx("button",{type:"button",className:"create-channel-cancel",onClick:()=>x(!1),disabled:f,children:"Cancel"}),e.jsx("button",{type:"submit",className:"create-channel-submit",disabled:!s.title||!s.videoLink||!s.thumbnail||f,children:f?"Uploading...":"Upload"})]})]})]})}),e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"left",children:[e.jsx("span",{onClick:()=>o(!a),style:{cursor:"pointer"},children:e.jsx(Y,{})}),e.jsxs(N,{to:"/",className:"youtube",children:[e.jsx(Z,{className:"fa-youtube"})," ",e.jsx("h2",{children:"YouTube"})]})]}),e.jsxs("div",{className:"mid",children:[e.jsx("input",{placeholder:"Search",onChange:S,value:t}),e.jsx("button",{onClick:k,children:e.jsx(q,{})})]}),e.jsxs("div",{className:"right",children:[i?.channelId&&e.jsx(D,{onClick:()=>x(!0)}),e.jsx(W,{}),i?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:i.avatar,alt:"User",className:"header-avatar",onClick:()=>c(l=>!l),style:{cursor:"pointer",borderRadius:"50%"}}),h&&e.jsx(T,{setShowModal:c,onClose:()=>c(!1)})]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{to:"/login",className:"header-auth-link",children:"Sign in"}),e.jsx(N,{to:"/register",className:"header-auth-link signup",children:"Sign up"})]})]})]})]})}function P(a){return r({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m18.931 9.99-1.441-.601 1.717-.913a4.48 4.48 0 0 0 1.874-6.078 4.506 4.506 0 0 0-6.09-1.874L4.792 5.929a4.504 4.504 0 0 0-2.402 4.193 4.521 4.521 0 0 0 2.666 3.904c.036.012 1.442.6 1.442.6l-1.706.901a4.51 4.51 0 0 0-2.369 3.967A4.528 4.528 0 0 0 6.93 24c.725 0 1.437-.174 2.08-.508l10.21-5.406a4.494 4.494 0 0 0 2.39-4.192 4.525 4.525 0 0 0-2.678-3.904ZM9.597 15.19V8.824l6.007 3.184z"},child:[]}]})(a)}function K({sidebarOpen:a}){return e.jsxs("nav",{className:`sideBar${a?"":" collapsed"}`,children:[e.jsxs(N,{to:"/",className:"sideBar-item",children:[e.jsx(I,{}),e.jsx("span",{className:"sideBar-label",children:"Home"})]}),e.jsxs("div",{className:"sideBar-item",children:[e.jsx(P,{}),e.jsx("span",{className:"sideBar-label",children:"Shorts"})]}),e.jsxs("div",{className:"sideBar-item",children:[e.jsx(O,{}),e.jsx("span",{className:"sideBar-label",children:"Subscriptions"})]})]})}function ae(){const[a,o]=n.useState(!1),[t,m]=n.useState(""),[d,i]=n.useState(!1),[v,h]=n.useState(window.innerWidth);n.useEffect(()=>{const s=()=>{h(window.innerWidth)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]);const c=v<=792,g={marginLeft:c?0:a?220:72,transition:c?"none":"margin-left 0.2s cubic-bezier(.4,0,.2,1)"},x=()=>{i(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(G,{sidebarOpen:a,setSidebarOpen:o,searchedVal:t,setSearchedVal:m,onSearch:x}),e.jsxs("div",{className:"app-layout",children:[e.jsx(K,{sidebarOpen:a,isMobile:c}),e.jsx("div",{className:"main-content",style:g,children:e.jsx(V,{context:{sidebarOpen:a,searchedVal:t,setSearchedVal:m,searchActive:d,setSearchActive:i}})})]})]})}export{ae as default};
